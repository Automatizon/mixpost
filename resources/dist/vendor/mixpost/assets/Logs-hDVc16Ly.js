import{r as y,I as k,a_ as x,o,c as m,n as w,k as $,a as t,u as b,b as u,w as s,F as f,Z as h,f as V,h as v,cl as C,e as i,t as g,g as p,_ as L,d as T}from"./app-CknmuTJW.js";import{_ as B}from"./PageHeader-B0qhO254.js";import{_ as I}from"./Panel-BkjsnDxq.js";import{T as N,_ as D}from"./Tab-BP766ecS.js";import{_ as F}from"./Alert-Bw33RKNb.js";import{_ as S}from"./DangerButton-BsQSWYnQ.js";import{_ as A}from"./NoResult-DdL5rUmk.js";const q=["value"],z={__name:"Textarea",props:["modelValue","error"],emits:["update:modelValue"],setup(l){const r=y(null);return k(()=>{r.value.hasAttribute("autofocus")&&x(()=>{r.value.focus()})}),(n,e)=>(o(),m("textarea",{value:l.modelValue,onInput:e[0]||(e[0]=_=>n.$emit("update:modelValue",_.target.value)),ref_key:"textarea",ref:r,class:w([{"border-stone-600":!l.error,"border-red-600":l.error},"w-full rounded-md focus:border-indigo-200 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 outline-none transition-colors ease-in-out duration-200"])},null,42,q))}},E={class:"w-full mx-auto row-py"},M={class:"w-full row-px"},Z={class:"mt-lg row-px w-full"},j={class:"mt-md"},G=["href"],W={__name:"Logs",props:{logs:{required:!0,type:Array}},setup(l){const r=l,n=y(null);k(()=>{r.logs.length&&(n.value=r.logs[0].name)});const e=$(()=>{const c=r.logs.find(a=>a.name===n.value);return c||!1}),_=()=>{T.delete(route("mixpost.system.logs.clear"),{data:{filename:e.value.name}})};return(c,a)=>(o(),m(f,null,[t(b(h),{title:"System Logs"}),u("div",E,[t(B,{title:"System Logs"}),u("div",M,[t(N,null,{default:s(()=>[(o(!0),m(f,null,V(l.logs,d=>(o(),v(D,{key:d.name,onClick:H=>n.value=d.name,active:n.value===d.name},{icon:s(()=>[t(C)]),default:s(()=>[i(" "+g(d.name),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),u("div",Z,[t(I,{class:"mt-lg"},{default:s(()=>[l.logs.length?(o(),m(f,{key:0},[e.value?(o(),m(f,{key:0},[e.value.error?(o(),v(F,{key:0,closeable:!1,variant:"warning",class:"mb-md"},{default:s(()=>[i(g(e.value.error),1)]),_:1})):p("",!0),t(z,{value:e.value.contents,class:"h-96",readonly:""},null,8,["value"])],64)):p("",!0),u("div",j,[u("a",{href:c.route("mixpost.system.logs.download",{filename:e.value.name}),target:"_blank"},[t(L,{class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:s(()=>a[0]||(a[0]=[i("Download")])),_:1})],8,G),t(S,{onClick:_},{default:s(()=>a[1]||(a[1]=[i("Clean up")])),_:1})])],64)):(o(),v(A,{key:1},{default:s(()=>a[2]||(a[2]=[i(" There are no logs. ")])),_:1}))]),_:1})])])],64))}};export{W as default};
