import{r as C,j as k,q as N,c as b,a as s,u as a,b as p,w as t,F as x,o as m,Z as A,f as F,h as _,e as i,t as j,H as E,m as D,P as S,v as q,g as z,d as H}from"./app-KU_pikFZ.js";import{u as O}from"./SearchInput-gvOvMZkc.js";import{u as Z,_ as G,a as J,b as Q}from"./MediaGifs-Cfp4ufUH.js";import{_ as R}from"./PageHeader-KKwuuNWr.js";import{T as U,_ as W}from"./Tab-BYet4s42.js";import{_ as X,a as Y}from"./PureDangerButton-Ce_jgoSb.js";import{_ as K,T as h,c as ee}from"./Trash-1vISUTtH.js";import{_ as se}from"./Panel-CwDzJkQI.js";import"./Input-D26Si0az.js";import"./NoResult-CLi0ODFC.js";import"./ExclamationCircle-CBKkPbrE.js";import"./helpers-BNyWTgxs.js";import"./Alert-CcG9R56f.js";import"./PrimaryButton-BbeE6h-R.js";import"./useNotifications-Li6rxoHk.js";const te={class:"w-full mx-auto row-py"},oe={class:"w-full row-px"},ae={class:"w-full row-px mt-lg"},be={__name:"Media",setup(le){const{activeTab:n,tabs:y,isDownloading:v,isDeleting:w,downloadExternal:P,deletePermanently:L}=Z(),T={uploads:G,stock:J,gifs:Q},r=C(),I=k(()=>T[n.value]),c=k(()=>r.value?r.value.selected:[]),$=()=>{r.value.deselectAll()},V=()=>{const o=n.value!=="uploads";o&&P(c.value.map(e=>{const{id:f,url:l,download_data:d}=e;return{id:f,url:l,download_data:d}}),e=>{g(e.data)}),o||g(c.value)},{versionContentObject:B}=O(),g=o=>{H.post(route("mixpost.posts.store"),{versions:[{account_id:0,is_original:!0,content:[B("",o.map(e=>e.id))]}]})},u=C(!1),M=()=>{const o=c.value.map(e=>e.id);L(o,()=>{$(),r.value.removeItems(o),u.value=!1})};return(o,e)=>{const f=N("tooltip");return m(),b(x,null,[s(a(A),{title:"Media Library"}),p("div",te,[s(R,{title:"Media Library"}),p("div",oe,[s(U,null,{default:t(()=>[(m(!0),b(x,null,F(a(y),(l,d)=>(m(),_(W,{key:d,onClick:ie=>n.value=d,active:a(n)===d},{default:t(()=>[i(j(l),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),p("div",ae,[s(se,null,{default:t(()=>[(m(),_(E(I.value),{ref_key:"sourceProperties",ref:r,columns:4},null,512)),s(X,{count:c.value.length,onClose:e[1]||(e[1]=l=>$())},{default:t(()=>[s(D,{onClick:V,isLoading:a(v),disabled:a(v),class:"mr-sm",size:"xs"},{default:t(()=>[s(S,{class:"mr-xs"}),e[4]||(e[4]=i(" Create Post "))]),_:1},8,["isLoading","disabled"]),a(n)==="uploads"?q((m(),_(Y,{key:0,onClick:e[0]||(e[0]=l=>u.value=!0)},{default:t(()=>[s(h)]),_:1})),[[f,"Delete"]]):z("",!0)]),_:1},8,["count"])]),_:1})])]),s(K,{show:u.value,variant:"danger",onClose:e[3]||(e[3]=l=>u.value=!1)},{header:t(()=>e[5]||(e[5]=[i(" Delete media ")])),body:t(()=>e[6]||(e[6]=[i(" Are you sure you want to delete selected media items? ")])),footer:t(()=>[s(D,{onClick:e[2]||(e[2]=l=>u.value=!1),class:"mr-xs"},{default:t(()=>e[7]||(e[7]=[i("Cancel")])),_:1}),s(ee,{isLoading:a(w),disabled:a(w),onClick:M},{default:t(()=>e[8]||(e[8]=[i("Delete")])),_:1},8,["isLoading","disabled"])]),_:1},8,["show"])],64)}}};export{be as default};
