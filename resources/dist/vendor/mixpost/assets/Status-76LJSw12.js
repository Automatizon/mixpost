import{j as k,o as f,c as h,b as d,a as t,u as $,w as e,F as y,Z as p,_ as x,e as n,t as r,h as w,g as z}from"./app-Bb-WeEdh.js";import{u as C}from"./useNotifications-BWJK7uBx.js";import{_ as q}from"./PageHeader-Cr_l6fDA.js";import{_ as c}from"./Panel-BDUW5Kdf.js";import{T as b,a as i,_ as a}from"./TableCell-DjM-KPzH.js";import{_ as m}from"./Badge-CstQX1UB.js";const D={},H={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function M(s,u){return f(),h("svg",H,u[0]||(u[0]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"},null,-1)]))}const S=k(D,[["render",M]]),A={class:"w-full mx-auto row-py"},N={class:"mt-lg row-px w-full"},T={key:0},B=["href"],E={key:1},V={key:0},P={key:1},j=["href"],R={__name:"Status",props:{health:Object,tech:Object},setup(s){const u=s,{notify:v}=C(),g=()=>{let o=`## Describe your issue

--- 
`;return o+=`## Health

`,o+=`**Environment**: ${u.health.env} 
`,o+=`**Debug Mode**: ${u.health.debug?"Enabled":"Disabled"} 
`,o+=`**Horizon**: ${u.health.horizon_status} 
`,o+=`**Queue connection**: ${u.health.has_queue_connection?"Ok":"Not ok"} 
`,o+=`**Schedule**: ${u.health.last_scheduled_run.message} 
`,o+=`
`,o+=`## Technical Details:

`,o+=`**App directory**: ${u.tech.base_path} 
`,o+=`**Upload Media Disk**: ${u.tech.disk} 
`,o+=`*Log Channel**: ${u.tech.log_channel} 
`,o+=`**Cache Driver**: ${u.tech.cache_driver} 
`,o+=`**User agent**: ${u.tech.user_agent} 
`,u.tech.versions.mysql&&(o+=`**MySql**: ${u.tech.versions.mysql} 
`),o+=`**PHP**: ${u.tech.versions.php} 
`,o+=`**Laravel**: ${u.tech.versions.laravel} 
`,o+=`**Horizon**: ${u.tech.versions.horizon} 
`,o+=`**Mixpost**: ${u.tech.versions.mixpost} 
`,o},_=()=>{navigator.clipboard.writeText(g()).then(()=>{v("success","System status information copied to clipboard")}).catch(()=>{v("error","Error copying status information to clipboard")})};return(o,l)=>(f(),h(y,null,[t($(p),{title:"Status"}),d("div",A,[t(q,{title:"Status"},{default:e(()=>[t(x,{onClick:_,size:"md"},{default:e(()=>[t(S,{class:"mr-xs"}),l[0]||(l[0]=n(" Copy info "))]),_:1})]),_:1}),d("div",N,[t(c,null,{title:e(()=>l[1]||(l[1]=[n("Health")])),default:e(()=>[t(b,null,{body:e(()=>[t(i,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(m,{variant:s.health.env==="production"?"success":"warning"},{default:e(()=>l[2]||(l[2]=[n("Environment")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[n(r(s.health.env),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(m,{variant:s.health.debug?"warning":"success"},{default:e(()=>l[3]||(l[3]=[n("Debug Mode")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[n(r(s.health.debug?"Enabled":"Disabled"),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(m,{variant:s.health.horizon_status==="Active"?"success":s.health.horizon_status==="Paused"?"warning":"error"},{default:e(()=>l[4]||(l[4]=[n(" Horizon ")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[s.health.horizon_status==="Inactive"?(f(),h("span",T,[l[5]||(l[5]=d("span",{class:"block"},"Inactive",-1)),l[6]||(l[6]=n(" Read the ")),d("a",{href:`${o.$page.props.mixpost.docs_link}/lite/installation/laravel-package#5-install-horizon`},"documentation",8,B),l[7]||(l[7]=n(". "))])):(f(),h("span",E,r(s.health.horizon_status),1))]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(m,{variant:s.health.has_queue_connection?"success":"error"},{default:e(()=>l[8]||(l[8]=[n(" Queue connection ")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[s.health.has_queue_connection?(f(),h("span",V,"Queue connection settings for mixpost-redis exist.")):(f(),h("span",P,[l[9]||(l[9]=d("span",{class:"block"},[n("No valid "),d("span",{class:"font-medium"},"queue connection"),n(" found.")],-1)),l[10]||(l[10]=d("span",{class:"block"},[n("Configure a queue connection with the "),d("span",{class:"font-medium"},"mixpost-redis"),n(" key.")],-1)),l[11]||(l[11]=n(" Read the ")),d("a",{href:`${o.$page.props.mixpost.docs_link}/lite/installation/laravel-package#5-install-horizon`},"documentation",8,j),l[12]||(l[12]=n(". "))]))]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(m,{variant:s.health.last_scheduled_run.variant},{default:e(()=>l[13]||(l[13]=[n("Schedule")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[n(r(s.health.last_scheduled_run.message),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{class:"mt-lg"},{title:e(()=>l[14]||(l[14]=[n("Technical details")])),default:e(()=>[t(b,null,{body:e(()=>[t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[15]||(l[15]=[n(" App directory ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.base_path),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[16]||(l[16]=[n(" Upload Media Disk ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.disk),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[17]||(l[17]=[n(" Log Channel ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.log_channel),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[18]||(l[18]=[n(" Cache Driver ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.cache_driver),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[19]||(l[19]=[n(" User agent ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.user_agent),1)]),_:1})]),_:1}),s.tech.versions.mysql?(f(),w(i,{key:0,hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[20]||(l[20]=[n(" MySql ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.versions.mysql),1)]),_:1})]),_:1})):z("",!0),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[21]||(l[21]=[n(" PHP ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.versions.php),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[22]||(l[22]=[n(" Laravel ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.versions.laravel),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[23]||(l[23]=[n(" Horizon ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.versions.horizon),1)]),_:1})]),_:1}),t(i,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>l[24]||(l[24]=[n(" Mixpost ")])),_:1}),t(a,null,{default:e(()=>[n(r(s.tech.versions.mixpost),1)]),_:1})]),_:1})]),_:1})]),_:1})])])],64))}};export{R as default};
