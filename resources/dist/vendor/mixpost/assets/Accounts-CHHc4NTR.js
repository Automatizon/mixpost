import{o as u,h as v,w as o,b as s,a as t,u as x,i as k,_ as M,c as p,r as m,e as f,g as _,n as j,d as h,j as T,F as $,f as V,Z as D,P as B,k as y,l as N,t as C,m as L}from"./app-KU_pikFZ.js";import{u as F}from"./useNotifications-Li6rxoHk.js";import{_ as P}from"./PageHeader-KKwuuNWr.js";import{_ as E}from"./Panel-CwDzJkQI.js";import{_ as R,a as H,b as z,T as O,c as U}from"./Trash-1vISUTtH.js";import{_ as X}from"./Account-BSmNdcqQ.js";import{T as Y,F as q,M as Z}from"./ProviderIcon-BoaHXo_6.js";import{_ as G}from"./Input-D26Si0az.js";import{_ as I}from"./PrimaryButton-BbeE6h-R.js";import{_ as J}from"./HorizontalGroup-Cdo3MHXW.js";import{E as K}from"./EllipsisVertical-zpGBU6gA.js";import{_ as Q}from"./Alert-CcG9R56f.js";import"./ExclamationCircle-CBKkPbrE.js";const W={class:"flex mr-4"},ee={__name:"AddTwitterAccount",setup(d){return(n,r)=>(u(),v(x(k),{href:n.route("mixpost.accounts.add",{provider:"twitter"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:o(()=>[s("span",W,[t(Y,{class:"text-twitter"})]),r[0]||(r[0]=s("span",{class:"flex flex-col items-start"},[s("span",{class:"font-semibold"},"X"),s("span",null,"Connect a new X profile")],-1))]),_:1},8,["href"]))}},se={class:"flex mr-4"},te={__name:"AddFacebookPage",setup(d){return(n,r)=>(u(),v(x(k),{href:n.route("mixpost.accounts.add",{provider:"facebook_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-facebook hover:bg-opacity-20 ease-in-out duration-200"},{default:o(()=>[s("span",se,[t(q,{class:"text-facebook"})]),r[0]||(r[0]=s("span",{class:"flex flex-col items-start"},[s("span",{class:"font-semibold"},"Facebook Page"),s("span",null,"Connect a new Facebook page")],-1))]),_:1},8,["href"]))}},oe={},ne={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function re(d,n){return u(),p("svg",ne,n[0]||(n[0]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"},null,-1)]))}const ae=M(oe,[["render",re]]),le={class:"flex mr-md"},ie={key:0,class:"px-lg py-md"},ue={__name:"AddMastodonAccount",setup(d){const{notify:n}=F(),r=m(!1),a=m(""),l=m(!1),b=()=>new Promise((c,e)=>{axios.post(route("mixpost.services.createMastodonApp"),{server:a.value}).then(()=>{c()}).catch(function(i){e(i)})}),w=()=>{r.value=!0,h.post(route("mixpost.accounts.add",{provider:"mastodon"}),{server:a.value},{onSuccess(){r.value=!1}})},g=async()=>{r.value=!0,await b().then(()=>{w()}).catch(c=>{if(c.response.status!==422){n("error",c.response.data.message);return}n("error",c.response.data.errors)}).finally(()=>{r.value=!1})};return(c,e)=>(u(),p("div",{class:j({"bg-mastodon bg-opacity-20":l.value})},[s("div",{role:"button",onClick:e[0]||(e[0]=i=>l.value=!l.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-mastodon hover:bg-opacity-20 ease-in-out duration-200"},[s("span",le,[t(Z,{class:"text-mastodon"})]),e[2]||(e[2]=s("span",{class:"flex flex-col items-start"},[s("span",{class:"font-semibold"},"Mastodon"),s("span",null,"Connect a new Mastodon profile")],-1))]),l.value?(u(),p("div",ie,[t(J,null,{title:o(()=>e[3]||(e[3]=[f("Enter your Mastodon server")])),default:o(()=>[t(G,{type:"text",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=i=>a.value=i),placeholder:"example.server"},null,8,["modelValue"])]),_:1}),t(I,{onClick:g,disabled:!a.value||r.value,isLoading:r.value,class:"mt-xs md:mt-0"},{default:o(()=>[e[4]||(e[4]=s("span",{class:"mr-xs"},"Next",-1)),s("span",null,[t(ae,{class:"!w-5 !h-5"})])]),_:1},8,["disabled","isLoading"])])):_("",!0)],2))}},ce={},de={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function fe(d,n){return u(),p("svg",de,n[0]||(n[0]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))}const pe=M(ce,[["render",fe]]),me={key:0,class:"mb-md"},_e={key:0},ve={key:1},ge={__name:"AlertUnconfiguredService",props:{isConfigured:{type:Object,required:!0}},setup(d){const n=d,r=T(()=>Object.keys(n.isConfigured).some(a=>!["tenor","unsplash"].includes(a)&&n.isConfigured[a]!==!0));return(a,l)=>r.value?(u(),p("div",me,[t(Q,{variant:"warning",closeable:!1,class:"mb-md"},{default:o(()=>[d.isConfigured.facebook?_("",!0):(u(),p("p",_e,"You have not configured Facebook service.")),d.isConfigured.twitter?_("",!0):(u(),p("p",ve,"You have not configured Twitter service.")),l[0]||(l[0]=s("p",{class:"mt-xs italic"},"Click on the button below to configure the third-party services.",-1))]),_:1}),t(x(k),{href:a.route("mixpost.services.index"),class:"inline-block"},{default:o(()=>[t(I,null,{default:o(()=>l[1]||(l[1]=[f("Configure services")])),_:1})]),_:1},8,["href"])])):_("",!0)}},xe={class:"w-full mx-auto row-py"},be={class:"mt-lg row-px w-full"},we={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-6"},he={class:"block p-lg"},ke={class:"flex flex-col justify-center items-center"},$e={class:"absolute top-0 right-0 mt-sm mr-sm"},ye={class:"flex flex-col justify-center"},Ce={class:"mt-sm font-semibold text-center break-words"},Ae={class:"mt-1 text-center text-stone-800"},Me={class:"flex flex-col"},A="Social Accounts",He={__name:"Accounts",setup(d){const{notify:n}=F(),r=m(!1),a=m(null),l=m(!1),b=c=>{h.put(route("mixpost.accounts.update",{account:c}),{},{preserveScroll:!0,onSuccess(e){e.props.flash.error||n("success","The account has been refreshed")}})},w=()=>{h.delete(route("mixpost.accounts.delete",{account:a.value}),{preserveScroll:!0,onStart(){l.value=!0},onSuccess(){a.value=null,n("success","Account deleted")},onFinish(){l.value=!1}})},g=()=>{l.value||(a.value=null)};return(c,e)=>(u(),p($,null,[t(x(D),{title:A}),s("div",xe,[t(P,{title:A},{description:o(()=>e[2]||(e[2]=[f(" Connect a social account you'd like to manage. ")])),_:1}),s("div",be,[t(ge,{isConfigured:c.$page.props.is_configured_service},null,8,["isConfigured"]),s("div",we,[s("button",{onClick:e[0]||(e[0]=i=>r.value=!0),class:"border border-indigo-800 rounded-lg hover:border-indigo-500 hover:text-indigo-500 transition-colors ease-in-out duration-200"},[s("span",he,[s("span",ke,[t(B,{class:"w-7 h-7"}),e[3]||(e[3]=s("span",{class:"mt-xs text-lg"},"Add account",-1))])])]),(u(!0),p($,null,V(c.$page.props.accounts,i=>(u(),v(E,{key:i.id,class:"relative"},{default:o(()=>[s("div",$e,[t(N,{"width-classes":"w-32"},{trigger:o(()=>[t(z,null,{default:o(()=>[t(K)]),_:1})]),content:o(()=>[t(y,{onClick:S=>b(i.id),as:"button"},{default:o(()=>[t(pe,{class:"!w-5 !h-5 mr-1"}),e[4]||(e[4]=f(" Refresh "))]),_:2},1032,["onClick"]),t(y,{onClick:S=>a.value=i.id,as:"button"},{default:o(()=>[t(O,{class:"!w-5 !h-5 mr-1 text-red-500"}),e[5]||(e[5]=f(" Delete "))]),_:2},1032,["onClick"])]),_:2},1024)]),s("div",ye,[t(X,{size:"lg","img-url":i.image,provider:i.provider,active:!0},null,8,["img-url","provider"]),s("div",Ce,C(i.name),1),s("div",Ae,"Added: "+C(i.created_at),1)])]),_:2},1024))),128))])])]),t(R,{show:a.value!==null,onClose:g,variant:"danger"},{header:o(()=>e[6]||(e[6]=[f(" Delete account ")])),body:o(()=>e[7]||(e[7]=[f(" Are you sure you want to delete this account? ")])),footer:o(()=>[t(L,{onClick:g,disabled:l.value,class:"mr-xs"},{default:o(()=>e[8]||(e[8]=[f("Cancel ")])),_:1},8,["disabled"]),t(U,{onClick:w,"is-loading":l.value,disabled:l.value},{default:o(()=>e[9]||(e[9]=[f("Delete ")])),_:1},8,["is-loading","disabled"])]),_:1},8,["show"]),t(H,{show:r.value,closeable:!0,onClose:e[1]||(e[1]=i=>r.value=!1)},{default:o(()=>[s("div",Me,[c.$page.props.is_configured_service.facebook?(u(),v(te,{key:0})):_("",!0),t(ue),c.$page.props.is_configured_service.twitter?(u(),v(ee,{key:1})):_("",!0)])]),_:1},8,["show"])],64))}};export{He as default};
